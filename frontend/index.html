<!DOCTYPE html> 
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control de Material</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>

  <!-- Cabecera -->
  <header>Control de Material - Dashboard</header>

  <!-- Contenido Principal -->
  <main>
    <!-- Men√∫ Lateral -->
    <aside>
      <nav>
        <button class="active" data-view="inicio">Inicio</button>
        <button data-view="equipos">Gesti√≥n de Equipos</button>
        <button data-view="material">Control de Material</button>
        <button data-view="reportes">Reportes</button>
        <button data-view="configuracion">Configuraci√≥n</button>
        <button data-view="cargar-nodos">Cargar Base de Nodos</button>
        <button data-view="vista-cargar-incautados">Cargar Base de Nodos Incautados</button>
        <button data-view="ver-nodos">Ver Nodos</button>
        <button data-view="vista-nodos-mantenimiento">Mantenimiento</button>
        <button data-view="vista-ver-incautados">Incautados</button>
      </nav>
    </aside>

    <!-- Secci√≥n de contenido -->
    <section id="content">
      <!-- Vista de Inicio -->
      <div id="vista-inicio" class="vista">
        <div class="card">
          <h3>Bienvenido</h3>
          <p>Selecciona una secci√≥n del men√∫ lateral para comenzar.</p>
        </div>
      </div>

      <!-- Vista: Cargar Nodos -->
      <div id="vista-cargar-nodos" class="vista" style="display:none;">
        <div class="card">
          <h2>Cargar Base de Nodos (CSV)</h2>

          <input type="file" id="csvFileNodos" accept=".csv">
          <button id="btn-enviar-nodos">Enviar al Servidor</button>

          <div id="csv-preview-nodos" style="display:none; margin-top:20px;">
            <h3>Vista previa del CSV</h3>
            <div class="tabla-scroll">
              <table id="tabla-preview-nodos">
                <thead></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Vista: Cargar Incautados -->
      <div id="vista-cargar-incautados" class="vista" style="display:none;">
        <h2>Cargar material incautado</h2>
        <input type="file" id="csvFileIncautados" accept=".csv" />
        <button id="btn-descargar-formato-incautados">Descargar formato CSV</button>
        <button id="btn-enviar-incautados">üöÄ Subir al servidor</button>

        <div id="csv-preview-incautados" style="display:none;">
          <table id="tabla-preview-incautados" border="1">
            <thead></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Vista: Ver Nodos -->
      <div id="vista-ver-nodos" class="vista" style="display:none;">
        <div class="vista-ver-nodos">
          <h2>Listado de Nodos</h2>

          <div class="filtros">
            <label for="filtro-serie">Serie:
            <input type="text" id="filtro-serie-nodos"></label>
            
            <label for="filtro-tecnologia">Tecnolog√≠a:
            <select id="filtro-tecnologia-nodos"></select></label>

            <label for="filtro-estatus">Estatus:
            <select id="filtro-estatus-nodos"></select></label>

            <button class="btn-azul" onclick="aplicarFiltrosNodos()">Aplicar filtros</button>
          </div>

          <div class="tabla-scroll">
            <table id="tabla-preview-nodos">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Serie</th>
                  <th>Tecnolog√≠a</th>
                  <th>Estatus</th>
                  <th>Fecha Actualizaci√≥n</th>
                  <th>Acci√≥n</th>
                </tr>
              </thead>
              <tbody id="tbody-nodos"></tbody>
            </table>
          </div>

          <div class="paginacion">
            <button id="btn-anterior-nodos">Anterior</button>
            <button id="btn-siguiente-nodos">Siguiente</button>
            <input type="number" id="pagina-input-nodos" placeholder="Ir a p√°gina" min="1">
            <button id="btn-ir-nodos">Ir</button>
            <span id="pagina-actual-nodos">P√°gina 1 de 1</span>
          </div>
        </div>
      </div>

      <!-- Vista: Incautados -->
      <div id="vista-ver-incautados" class="vista" style="display:none;">
        <div class="vista-ver-incautados">
          <h2>Material Incautado</h2>
          <div class="filtros">
            <label for="filtro-serie">Serie:</label>
            <input type="text" id="filtro-serie-incautado" placeholder="Buscar serie...">
            <label for="filtro-tecnologia-incautado">Tecnolog√≠a:</label>
            <select id="filtro-tecnologia-incautado"></select>
            <label for="filtro-estatus-incautado">Estatus:</label>
            <select id="filtro-estatus-incautado"></select>
            <button id="btn-aplicar-filtros-incautados" class="btn-azul">Aplicar filtros</button>
          </div>

          <div class="tabla-scroll">
            <table id="tabla-preview-incautado">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nodo</th>
                  <th>Tecnolog√≠a</th>
                  <th>Estatus</th>
                  <th>L√≠nea</th>
                  <th>Estaca</th>
                  <th>Propietario</th>
                  <th>Localidad</th>
                  <th>Fecha Incautado</th>
                  <th>Cambiar Estatus</th>
                  <th>Evidencia</th>
                </tr>
              </thead>
              <tbody id="tbody-incautados"></tbody>
            </table>
          </div>

          <div class="paginacion">
            <button id="btn-anterior-incautados">Anterior</button>
            <button id="btn-siguiente-incautados">Siguiente</button>
            <input type="number" id="pagina-input-incautados" placeholder="Ir a p√°gina" min="1">
            <button id="btn-ir-incautados">Ir</button>
            <span id="pagina-actual-incautados">P√°gina 1 de 1</span>
          </div>
        </div>
      </div>

      <!-- ‚úÖ NUEVA VISTA: MANTENIMIENTO -->
      <div id="vista-nodos-mantenimiento" class="vista" style="display:none;">
        <div class="vista-nodos-mantenimiento">
          <h2>üß∞ Nodos en Mantenimiento</h2>

          <!-- Filtros -->
          <div class="filtros">
            <label for="filtro-serie-mantenimiento">Serie:</label>
            <input type="text" id="filtro-serie-mantenimiento" placeholder="Buscar serie...">
            <label for="filtro-tecnologia-mantenimiento">Tecnolog√≠a:</label>
            <select id="filtro-tecnologia-mantenimiento"></select>
            <label for="filtro-estatus-mantenimiento">Estatus:</label>
            <select id="filtro-estatus-mantenimiento"></select>
            <button class="btn-azul" onclick="aplicarFiltrosmantenimiento()">Aplicar filtros</button>
          </div>

          <!-- Tabla -->
          <div class="tabla-scroll">
            <table id="tabla-preview-mantenimiento">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Serie</th>
                  <th>Tecnolog√≠a</th>
                  <th>Estatus</th>
                  <th>Fecha Actualizaci√≥n</th>
                  <th>Acci√≥n</th>
                </tr>
              </thead>
              <tbody id="tbody-nodos-mantenimiento"></tbody>
            </table>
          </div>

          <!-- Paginaci√≥n -->
          <div class="paginacion">
            <button onclick="paginaAnteriormantenimiento()">Anterior</button>
            <button onclick="paginaSiguientemantenimiento()">Siguiente</button>
            <span id="pagina-actual-mantenimiento">P√°gina 1 de 1</span>
          </div>
        </div>
      </div>
      <!-- üîö Fin de Vista Mantenimiento -->

    </section>
  </main>

  <!-- Modal para Asignar Evidencia -->
  <div id="modal-asignar-evidencia" class="modal" style="display:none;">
    <div class="modal-contenido">
      <h3>Asignar evidencia a otros materiales incautados</h3>
      <p>Selecciona los materiales relacionados con este archivo:</p>
      <div id="lista-incautados-relacionados" class="lista-incautados"></div>
      <div class="modal-botones">
        <button id="btn-confirmar-asignacion" class="btn-azul">Confirmar</button>
        <button id="btn-cancelar-asignacion" class="btn-rojo">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Pie de P√°gina -->
  <footer>¬© 2025 Control de Material</footer>

  <!-- Librer√≠as -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Scripts principales -->
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/vistas/VistaNodos.js"></script>
  <script type="module" src="js/vistas/cargarNodos.js"></script>
  <script type="module" src="js/vistas/cargarIncautados.js"></script>
  <script type="module" src="js/vistas/asignarEvidencia.js"></script>
  <script type="module" src="js/vistas/VistaMantenimiento.js"></script>
</body>
</html>
